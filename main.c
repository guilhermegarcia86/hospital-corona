#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "user.h"
#include "patient.h"

int operador;

void initApp()
{



    printf("***************************************************************\n");
    printf("*    __  ______  ___       ______                             *\n");
    printf("*   / / / / __ \\/   |     / ____/___  _________  ____  ____ _ *\n");
    printf("*  / / / / /_/ / /| |    / /   / __ \\/ ___/ __ \\/ __ \\/ __ `/ *\n");
    printf("* / /_/ / ____/ ___ |   / /___/ /_/ / /  / /_/ / / / / /_/ /  *\n");
    printf("* \\____/_/   /_/  |_|   \\____/\\____/_/   \\____/_/ /_/\\__,_/   *\n");
    printf("*                                                             *\n");
    printf("***************************************************************\n");
}

int menu()
{

    printf("Menu principal\n\n");
    printf("1 - Login \n");
    printf("2 - Registrar \n");
    printf("4 - Sair \n");
    printf("Opcao escolhida: ");
    scanf("%d",&operador);

    return operador;
}

int main()
{

    while(1)
    {

        initApp();
        int result = menu();

        switch(result)
        {

        case 1:
        {
            int logado = login();
            if(logado != 0)
            {
                printf("***************************************************************\n");
                printf("*                                                             *\n");
                printf("*                     Usuario logado!!!                       *\n");
                printf("*                                                             *\n");
                printf("***************************************************************\n\n\n");
                registerPatient();
            }
            break;
        }
        case 2:
        {
            registerUser();
            break;
        }
        case 4:
        {
            printf("********************************************************************************************************\n");
            printf("*    _____ _      __                          ______                                    __             *\n");
            printf("*   / ___/(_)____/ /____  ____ ___  ____ _   / ____/___  ________  ______________ _____/ /___          *\n");
            printf("*   \\__ \\/ / ___/ __/ _ \\/ __ `__ \\/ __ `/  / __/ / __ \\/ ___/ _ \\/ ___/ ___/ __ `/ __  / __ \\         *\n");
            printf("*  ___/ / (__  ) /_/  __/ / / / / / /_/ /  / /___/ / / / /__/  __/ /  / /  / /_/ / /_/ / /_/ /         *\n");
            printf("* /____/_/____/\\__/\\___/_/ /_/ /_/\\__,_/  /_____/_/ /_/\\___/\\___/_/  /_/   \\__,_/\\__,_/\\____/          *\n");
            printf("*                                                                                                      *\n");
            printf("********************************************************************************************************\n");
            sleep(1);
            exit(1);
            break;
        }

        }

    }

    return 0;

}
